(this.webpackJsonpcynario=this.webpackJsonpcynario||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersContext",(function(){return R}));var c=n(1),a=n.n(c),r=n(22),s=n.n(r),o=(n(28),n(29),n(23)),i=n(3),l=n(4),d=n.n(l),u=n(7),j=n(6),b={table1:[],table2:[]},h={table1:{date:!0,name:!0,address:!0},table2:{date:!0,name:!0,address:!0}},O=function(e,t,n){var c;return c=!t.length||!n||function(e,t){return Object.keys(e).some((function(n){return e[n].toLowerCase().includes(t.toLowerCase())}))}(e,t),c},x=n(13),f=n.n(x),p="https://protected-lowlands-84769.herokuapp.com",m=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(p,"/users"),{headers:{"Access-Control-Allow-Origin":"*"}});case 3:return t=e.sent,n=t.data,console.log("GET: Here's the list of users",n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(p,"/user"),{data:JSON.stringify(t),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return n=e.sent,c=n.data,console.log("Added a new user!",c),e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),g=n(0),C=a.a.createContext(null),k=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(j.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)(b),O=Object(j.a)(l,2),x=O[0],f=O[1],p=Object(c.useState)(""),k=Object(j.a)(p,2),w=k[0],y=k[1],N=Object(c.useState)(h),S=Object(j.a)(N,2),U=S[0],B=S[1];Object(c.useEffect)(Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,f({table1:t,table2:t}),console.log("res",t);case 5:case"end":return e.stop()}}),e)}))),[]);var M=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.a)({},x),c=Object.keys(n),e.next=4,v(t);case 4:a=e.sent,console.log("newUsers",a),c.forEach((function(e){n[e]=[].concat(Object(o.a)(n[e]),[t])})),f(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(C.Provider,{value:{isOpen:r,users:x,checkboxData:U,searchQuery:w,toggleModal:function(){s(!r)},addUser:M,search:y,setCheckboxData:B},children:t})},w=(n(50),function(e){var t=e.tableId,n=e.showRightSide,a=Object(c.useContext)(C),r=a.users,s=a.searchQuery,o=a.checkboxData,i=r[t].filter((function(e){return O(e,s,n)})).map((function(e){var n=e.date,c=e.name,a=e.address;return Object(g.jsxs)("tr",{children:[o[t].date&&Object(g.jsx)("td",{children:n}),o[t].name&&Object(g.jsx)("td",{children:c}),o[t].address&&Object(g.jsx)("td",{children:a})]},Math.random())}));return Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[o[t].date&&Object(g.jsx)("th",{children:"Date"}),o[t].name&&Object(g.jsx)("th",{children:"Name"}),o[t].address&&Object(g.jsx)("th",{children:"Address"})]})}),Object(g.jsx)("tbody",{children:i})]})}),y=n(5),N=(n(51),n(52),function(e){var t=e.label,n=e.onClick,c=e.className;return Object(g.jsx)("div",{className:"btn ".concat(c),onClick:n,children:t})}),S=N;N.defaultProps={onClick:void 0};var U=function(e){var t=e.showRightSide,n=e.tableId,a=Object(c.useContext)(C),r=a.toggleModal,s=a.search,o=a.checkboxData,l=a.setCheckboxData,d=Object.keys(Object(i.a)({},o[n])).map((function(e){return Object(g.jsxs)("label",{className:"single-checkbox",children:[Object(g.jsx)("input",{type:"checkbox",checked:o[n][e],id:e,name:e,value:e.toUpperCase(),onChange:function(t){l(Object(i.a)(Object(i.a)({},o),{},Object(y.a)({},n,Object(i.a)(Object(i.a)({},o[n]),{},Object(y.a)({},e,t.target.checked)))))}}),e,Object(g.jsx)("span",{className:"single-checkbox-checkmark"})]},e)}));return Object(g.jsxs)("div",{className:"ControlBar",children:[Object(g.jsx)("div",{className:"ControlBar-left",children:d}),t&&Object(g.jsxs)("div",{className:"ControlBar-right",children:[Object(g.jsx)("div",{children:Object(g.jsx)("input",{type:"text",placeholder:"Search table",onChange:function(e){s(e.target.value)}})}),Object(g.jsx)(S,{onClick:function(){return r()},label:"Add User",className:"ControlBar-right-addUserBtn"})]})]})},B=(n(53),n(54),function(e){var t=e.width,n=e.height,c=e.isOpen,a=e.children,r={width:t,height:n};return c&&Object(g.jsx)("div",{className:"modalWrapper",children:Object(g.jsx)("div",{className:"modalBody",style:r,children:a})})}),M=B;B.defaultProps={width:"50%",height:"auto",isOpen:!1};var A=n.p+"static/media/x_icon.664137c3.svg",I=function(){var e=Object(c.useState)({name:"",address:""}),t=Object(j.a)(e,2),n=t[0],a=t[1],r=n.name,s=n.address,o=Object(c.useContext)(C),l=o.isOpen,d=o.toggleModal,u=o.addUser,b=function(e){var t=e.target,c=t.value,r=t.name;a(Object(i.a)(Object(i.a)({},n),{},Object(y.a)({},r,c)))},h=function(){if(Object.keys(n).every((function(e){return n[e].length}))){var e=function(){var e=(new Date).toISOString();return e.slice(0,e.indexOf("T"))}();u({name:r,address:s,date:e}),a({name:"",address:""}),d()}};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(M,{width:"500px",isOpen:l,children:[Object(g.jsxs)("div",{className:"UserModal-header",children:[Object(g.jsx)("h1",{children:"Add User"}),Object(g.jsx)("div",{onClick:function(){return d()},children:Object(g.jsx)("img",{alt:"",src:A,width:"20px",height:"20px"})})]}),Object(g.jsxs)("div",{className:"UserModal-main",children:[Object(g.jsxs)("label",{children:["Name",Object(g.jsx)("input",{type:"text",name:"name",value:r,onChange:function(e){return b(e)}})]}),Object(g.jsxs)("label",{children:["Address",Object(g.jsx)("input",{type:"text",name:"address",value:s,onChange:function(e){return b(e)}})]})]}),Object(g.jsx)("div",{className:"UserModal-footer",children:Object(g.jsxs)("div",{className:"UserModal-footer-actionBtns",children:[Object(g.jsx)(S,{onClick:function(){return d()},label:"Cancel",className:"UserModal-footer-actionBtns-cancel"}),Object(g.jsx)(S,{onClick:function(){return h()},label:"Confirm",className:"UserModal-footer-actionBtns-confirm"})]})})]})})},D=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(U,{showRightSide:!0,tableId:"table1"}),Object(g.jsx)(w,{showRightSide:!0,tableId:"table1"})]}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(U,{showRightSide:!1,tableId:"table2"}),Object(g.jsx)(w,{showRightSide:!1,tableId:"table2"})]}),Object(g.jsx)(I,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},R=a.a.createContext(null);s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(k,{children:Object(g.jsx)(D,{})})}),document.getElementById("root")),F()}},[[55,1,2]]]);
//# sourceMappingURL=main.9e746d88.chunk.js.map