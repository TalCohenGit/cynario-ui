(this.webpackJsonpcynario=this.webpackJsonpcynario||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersContext",(function(){return R}));var a=n(1),c=n.n(a),r=n(22),s=n.n(r),o=(n(28),n(29),n(23)),i=n(3),d=n(4),l=n.n(d),u=n(7),j=n(6),b={table1:[{date:"2016-01-01",name:"Tom",address:"No 189, Grove St, Los Angeles"},{date:"2018-01-01",name:"Ron",address:"No 222, Pool St, Denver"},{date:"2012-06-03",name:"Dubi",address:"No 130, Franklin St, New York"}],table2:[{date:"2016-01-01",name:"Tom",address:"No 189, Grove St, Los Angeles"},{date:"2018-01-01",name:"Ron",address:"No 222, Pool St, Denver"},{date:"2012-06-03",name:"Dubi",address:"No 130, Franklin St, New York"}]},h={table1:{date:!0,name:!0,address:!0},table2:{date:!0,name:!0,address:!0}},O=function(e,t,n){var a;return a=!t.length||!n||function(e,t){return Object.keys(e).some((function(n){return e[n].toLowerCase().includes(t.toLowerCase())}))}(e,t),a},x=n(13),f=n.n(x),p="http://2d9b-2a00-7c40-c490-12-e0e8-a21b-9a4e-cadc.ngrok.io",m=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(p,"/users"),{headers:{"Access-Control-Allow-Origin":"*"}});case 3:return t=e.sent,n=t.data,console.log("GET: Here's the list of users",n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("".concat(p,"/user"),{data:JSON.stringify(t),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});case 3:return n=e.sent,a=n.data,console.log("Added a new user!",a),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),g=n(0),k=c.a.createContext(null),C=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(j.a)(n,2),r=c[0],s=c[1],d=Object(a.useState)(b),O=Object(j.a)(d,2),x=O[0],f=O[1],p=Object(a.useState)(""),C=Object(j.a)(p,2),w=C[0],N=C[1],S=Object(a.useState)(h),y=Object(j.a)(S,2),U=y[0],A=y[1];Object(a.useEffect)(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return t=e.sent,console.log("res",t),e.abrupt("return",(function(){return console.log("oppp")}));case 5:case"end":return e.stop()}}),e)}))),[]);var D=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.a)({},x),a=Object.keys(n),e.next=4,v(t);case 4:c=e.sent,console.log("newUsers",c),a.forEach((function(e){n[e]=[].concat(Object(o.a)(n[e]),[t])})),f(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(k.Provider,{value:{isOpen:r,users:x,checkboxData:U,searchQuery:w,toggleModal:function(){s(!r)},addUser:D,search:N,setCheckboxData:A},children:t})},w=(n(50),function(e){var t=e.tableId,n=e.showRightSide,c=Object(a.useContext)(k),r=c.users,s=c.searchQuery,o=c.checkboxData,i=r[t].filter((function(e){return O(e,s,n)})).map((function(e){var n=e.date,a=e.name,c=e.address;return Object(g.jsxs)("tr",{children:[o[t].date&&Object(g.jsx)("td",{children:n}),o[t].name&&Object(g.jsx)("td",{children:a}),o[t].address&&Object(g.jsx)("td",{children:c})]},Math.random())}));return Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[o[t].date&&Object(g.jsx)("th",{children:"Date"}),o[t].name&&Object(g.jsx)("th",{children:"Name"}),o[t].address&&Object(g.jsx)("th",{children:"Address"})]})}),Object(g.jsx)("tbody",{children:i})]})}),N=n(5),S=(n(51),n(52),function(e){var t=e.label,n=e.onClick,a=e.className;return Object(g.jsx)("div",{className:"btn ".concat(a),onClick:n,children:t})}),y=S;S.defaultProps={onClick:void 0};var U=function(e){var t=e.showRightSide,n=e.tableId,c=Object(a.useContext)(k),r=c.toggleModal,s=c.search,o=c.checkboxData,d=c.setCheckboxData,l=Object.keys(Object(i.a)({},o[n])).map((function(e){return Object(g.jsxs)("label",{className:"single-checkbox",children:[Object(g.jsx)("input",{type:"checkbox",checked:o[n][e],id:e,name:e,value:e.toUpperCase(),onChange:function(t){d(Object(i.a)(Object(i.a)({},o),{},Object(N.a)({},n,Object(i.a)(Object(i.a)({},o[n]),{},Object(N.a)({},e,t.target.checked)))))}}),e,Object(g.jsx)("span",{className:"single-checkbox-checkmark"})]},e)}));return Object(g.jsxs)("div",{className:"ControlBar",children:[Object(g.jsx)("div",{className:"ControlBar-left",children:l}),t&&Object(g.jsxs)("div",{className:"ControlBar-right",children:[Object(g.jsx)("div",{children:Object(g.jsx)("input",{type:"text",placeholder:"Search table",onChange:function(e){s(e.target.value)}})}),Object(g.jsx)(y,{onClick:function(){return r()},label:"Add User",className:"ControlBar-right-addUserBtn"})]})]})},A=(n(53),n(54),function(e){var t=e.width,n=e.height,a=e.isOpen,c=e.children,r={width:t,height:n};return a&&Object(g.jsx)("div",{className:"modalWrapper",children:Object(g.jsx)("div",{className:"modalBody",style:r,children:c})})}),D=A;A.defaultProps={width:"50%",height:"auto",isOpen:!1};var B=n.p+"static/media/x_icon.664137c3.svg",M=function(){var e=Object(a.useState)({name:"",address:""}),t=Object(j.a)(e,2),n=t[0],c=t[1],r=n.name,s=n.address,o=Object(a.useContext)(k),d=o.isOpen,l=o.toggleModal,u=o.addUser,b=function(e){var t=e.target,a=t.value,r=t.name;c(Object(i.a)(Object(i.a)({},n),{},Object(N.a)({},r,a)))},h=function(){if(Object.keys(n).every((function(e){return n[e].length}))){var e=function(){var e=(new Date).toISOString();return e.slice(0,e.indexOf("T"))}();u({name:r,address:s,date:e}),c({name:"",address:""}),l()}};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(D,{width:"500px",isOpen:d,children:[Object(g.jsxs)("div",{className:"UserModal-header",children:[Object(g.jsx)("h1",{children:"Add User"}),Object(g.jsx)("div",{onClick:function(){return l()},children:Object(g.jsx)("img",{alt:"",src:B,width:"20px",height:"20px"})})]}),Object(g.jsxs)("div",{className:"UserModal-main",children:[Object(g.jsxs)("label",{children:["Name",Object(g.jsx)("input",{type:"text",name:"name",value:r,onChange:function(e){return b(e)}})]}),Object(g.jsxs)("label",{children:["Address",Object(g.jsx)("input",{type:"text",name:"address",value:s,onChange:function(e){return b(e)}})]})]}),Object(g.jsx)("div",{className:"UserModal-footer",children:Object(g.jsxs)("div",{className:"UserModal-footer-actionBtns",children:[Object(g.jsx)(y,{onClick:function(){return l()},label:"Cancel",className:"UserModal-footer-actionBtns-cancel"}),Object(g.jsx)(y,{onClick:function(){return h()},label:"Confirm",className:"UserModal-footer-actionBtns-confirm"})]})})]})})},F=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(U,{showRightSide:!0,tableId:"table1"}),Object(g.jsx)(w,{showRightSide:!0,tableId:"table1"})]}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(U,{showRightSide:!1,tableId:"table2"}),Object(g.jsx)(w,{showRightSide:!1,tableId:"table2"})]}),Object(g.jsx)(M,{})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},R=c.a.createContext(null);s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(C,{children:Object(g.jsx)(F,{})})}),document.getElementById("root")),I()}},[[55,1,2]]]);
//# sourceMappingURL=main.0df84a7a.chunk.js.map